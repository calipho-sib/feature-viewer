<html>

<head>
    <title>neXtProt protein sequence viewer</title>
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.4.0/codemirror.min.css">
    <link rel="stylesheet" href="index.css">

    <script src="jquery.js"></script>
    <script src="../bower_components/d3/d3.min.js"></script>
    <script src="../src/feature-viewer.js"></script>

    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>-->
</head>

<body>
    <div id="div2"> </div>

    <script>
       //Create a new Feature Viewer and add some rendering options
       var ft2 = new FeatureViewer("FDSJKLFJDSFKLJDFHADJKLFHDSJKLFHDAFJKLDHFJKLDASFHDJKLFHDSAJKLFHDAKLFJDHSAFKLDLSNCDJ"+
            "KLFENFIUPERWDJKPCNVDFPIEHFDCFJDKOWFPDJWFKLXSJFDW9FIPUAENDCXAMSFNDUAFIDJFDLKSAFJDSAKFLJDSADJFDW9FIPUAENDCXAMSFNDAAAAAAAAAAAFJDSAKFL","#div2", {
            showAxis: true,
            showSequence: true,
            brushActive: true,
            toolbar:true,
            bubbleHelp:true,
            zoomMax:10,
            minLengthAnim: 300
                    });

    //Add some features
        ft2.addFeature({
            data: [{x:20,y:32},{x:46,y:100},{x:123,y:167}],
            name: "test feature 1",
            className: "test1",
            color: "#005572",
            type: "rect",
            filter: "type1"
        });
        ft2.addFeature({
            data: [{x:52,y:52},{x:92,y:92}],
            name: "test feature 2",
            className: "test2",
            color: "#006588",
            type: "rect",
            filter: "type2"
        });

        ft2.addFeature({
            data: [{x:130,y:184},{x:40,y:142},{x:80,y:110}],
            name: "test feature 3",
            className: "test3",
            color: "#008B8D",
            type: "path",
            filter: "type2"
        });
        ft2.addFeature({
            data: [{x:120,y:154, color:"#cb9758"},{x:22,y:163},{x:90,y:108},{x:10,y:25},{x:193,y:210},{x:78,y:85},{x:96,y:143},{x:14,y:65, color:"#896c49"},{x:56,y:167}],
            name: "test feature 4",
            className: "test4",
            color: "#F4D4AD",
            type: "rect",
            height: 8,
            filter: "type1"
        });
        ft2.addFeature({
            data: [{x:120,y:154},{x:21,y:163},{x:90,y:108},{x:10,y:25},{x:193,y:210},{x:78,y:85},{x:96,y:143},{x:14,y:65},{x:56,y:167}],
            name: "test feature 5",
            className: "test5",
            color: "#81BEAA",
            type: "rect",
            height: 8,
            filter: "type1"
        });
        ft2.addFeature({
            data: [{x:120,y:154},{x:22,y:163},{x:90,y:90},{x:10,y:25},{x:193,y:210},{x:78,y:85},{x:96,y:143},{x:14,y:14},{x:56,y:57}],
            name: "test feature 6",
            className: "test6",
            color: "#008B8D",
            type: "rect",
            filter: "type2"
        });
        var dataDemo = [];
        var dataDemo2 = [];
        for (var i=1;i<100;i++) {
            var count = Math.floor(Math.random() *261);
            var count2 = Math.floor(Math.random() * 261);
            dataDemo.push({
                x: i*2,
                y:count2
            })
            dataDemo2.push({
                x: i*2,
                y:-count
            })
        };
        console.log(dataDemo);
        console.log(dataDemo2);
        ft2.addFeature({
            data: [dataDemo, dataDemo2],
            name: "test feature 7",
            className: "test7",
            color: ["#13a7bc","#bc5413"],
            type: "line",
            filter: "type2",
            height: "10",
            interpolation:"step"
        });
        var dataDemo3 = [{x:0,y:0}];
        for (var i=1;i<200;i++) {
            var count = Math.floor(Math.random() * 201);
            dataDemo3.push({
                x: i,
                y:count,
                description: "blblblbl",
                id:i+count+"flfl"
            })
        }
        ft2.addFeature({
            data: dataDemo3,
            name: "test feature 7bis",
            className: "test7bis",
            color: ["#006573","#731b00"],
            type: "line",
            filter: "type2",
            height: "10",
            fill: true,
            interpolation:"step"
        });


    //Beside positions of each element, you can also give a specific description, which will appears in the tooltip when mouse hover, and a specific ID, for example to link a click event on the feature with something else in your project.
        ft2.addFeature({
            data: [{x:120,y:154,description:"aaaaa",id:"a1"},{x:22,y:163,description:"bbbbb",id:"b1"},
                   {x:90,y:108,description:"ccccc",id:"c1"},{x:10,y:25,description:"ddddd",id:"d1"},
                   {x:193,y:210,description:"eeeee",id:"e1"},{x:78,y:85,description:"fffff",id:"f1"},
                   {x:96,y:143,description:"ggggg",id:"g1"},{x:14,y:65,description:"hhhhh",id:"h1"},
                   {x:56,y:167,description:"jjjjj",id:"j1"}],
            name: "test feature 8",
            className: "test8",
            color: "#eda64f",
            type: "rect",
            filter: "type2"
        });
        ft2.onFeatureSelected(function (d) {
            console.log(d.detail);
        });
    </script>


</body>

</html>
